import { c as create_ssr_component, e as escape, a as add_attribute, d as each } from "../../../chunks/ssr.js";
import "firebase/auth";
import "firebase/firestore";
import "firebase/storage";
import "firebase/analytics";
import "firebase/database";
const css = {
  code: ".centered-title.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{text-align:center;color:#52c4f5;font-size:24px;margin-bottom:20px}.messages-container.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{margin:20px auto;width:fit-content}.success-message.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{text-align:center;font-size:1.2rem;margin:10px 0;padding:10px 15px;background-color:#3ee13eed;color:rgb(0, 0, 0);border-radius:8px;font-weight:bold;box-shadow:0 2px 6px rgba(0, 0, 0, 0.15)}.sort-buttons-container.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{display:flex;flex-direction:column;gap:15px;align-items:flex-start;margin-bottom:20px}.sort-button.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{background-color:#52c4f5;color:black;padding:10px 20px;border:none;border-radius:10px;cursor:pointer;font-size:16px;transition:all 0.3s ease}.sort-button.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi:hover{background-color:#454a4b;color:#52c4f5;border:1.5px solid #52c4f5;transform:scale(1.1)}.finalize-button.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{align-self:flex-end;margin-top:-40px}.inquiries-table.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{width:100%;border-collapse:collapse;margin-top:15px;background-color:rgba(12, 32, 57, 0.687);color:white}.inquiries-table.s-qVrR-tmRBYCi th.s-qVrR-tmRBYCi,.inquiries-table.s-qVrR-tmRBYCi td.s-qVrR-tmRBYCi{padding:10px;border:1px solid #52c4f5;text-align:center}.inquiries-table.s-qVrR-tmRBYCi th.s-qVrR-tmRBYCi{background-color:#454a4b;color:hsl(198, 89%, 64%)}.action-button.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{padding:5px 10px;background-color:#52c4f5;border:none;color:black;border-radius:5px;cursor:pointer;font-size:14px;transition:all 0.3s ease}.action-button.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi:hover{background-color:#454a4b;color:#52c4f5;border:1.5px solid #52c4f5}.action-button.book-button.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{background-color:#3ee13eed}.action-button.book-button.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi:disabled{background-color:#3ee13eed;cursor:not-allowed}.action-button.delete.s-qVrR-tmRBYCi.s-qVrR-tmRBYCi{background-color:#dc2b25}",
  map: null
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { data } = $$props;
  console.log("Data received:", data);
  let messages = [];
  let loadingButtonId = null;
  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);
  $$result.css.add(css);
  return `${data && data.inquiries && data.inquiries.length > 0 ? `<h1 class="centered-title s-qVrR-tmRBYCi">${escape(data.showHandled ? "Handled Inquiries" : "Unhandled Inquiries")}</h1>  <div class="sort-buttons-container s-qVrR-tmRBYCi"><p><strong data-svelte-h="svelte-1ulqjjh">Sort By:</strong></p> <form action="?/sort" method="post"><input type="hidden" name="sortby" value="inquiry_id"> <button class="sort-button s-qVrR-tmRBYCi" data-svelte-h="svelte-1o0ffee">Client ID</button></form> <form action="?/sort" method="post"><input type="hidden" name="sortby" value="date"> <button class="sort-button s-qVrR-tmRBYCi" data-svelte-h="svelte-5psohp">Appointment Date</button></form> <form action="?/toggleHandled" method="post"><input type="hidden" name="showHandled"${add_attribute("value", data.showHandled ? "false" : "true", 0)}> <button class="sort-button s-qVrR-tmRBYCi">${escape(data.showHandled ? "Show Unhandled" : "Show Handled")}</button></form> <button class="sort-button finalize-button s-qVrR-tmRBYCi" data-svelte-h="svelte-1ddfiu5">Finalize Booking</button></div>  ${messages.length > 0 ? `<div class="messages-container s-qVrR-tmRBYCi">${each(messages, (message) => {
    return `<div class="success-message s-qVrR-tmRBYCi">${escape(message.text)} </div>`;
  })}</div>` : ``}  <table class="inquiries-table s-qVrR-tmRBYCi"><thead><tr><th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-1tvy9dd">Client ID #</th> <th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-1ghw50j">Customer Name</th> <th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-1mpo9xu">Phone</th> <th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-ocswmz">Service</th> <th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-5ertrt">Caliper Color</th> <th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-1mvyyuq">Wheel Color</th> <th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-1t9x825">Appointment Date</th> <th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-kdqpx">Additional Details</th> <th class="s-qVrR-tmRBYCi" data-svelte-h="svelte-7l4yjv">Actions</th></tr></thead> <tbody>${each(data.inquiries, (inquiry) => {
    return `<tr><td class="s-qVrR-tmRBYCi">${escape(inquiry.inquiry_id)}</td> <td class="s-qVrR-tmRBYCi">${escape(inquiry.first_name)} ${escape(inquiry.last_name)}</td> <td class="s-qVrR-tmRBYCi">${escape(inquiry.phone)}</td> <td class="s-qVrR-tmRBYCi">${escape(inquiry.service)}</td> <td class="s-qVrR-tmRBYCi">${escape(inquiry.caliper_color || "N/A")}</td> <td class="s-qVrR-tmRBYCi">${escape(inquiry.wheel_color || "N/A")}</td> <td class="s-qVrR-tmRBYCi">${escape(new Date(inquiry.date).toLocaleDateString())}</td> <td class="s-qVrR-tmRBYCi">${escape(inquiry.additional_details)}</td> <td class="s-qVrR-tmRBYCi">${!data.showHandled ? `<form action="?/markHandled" method="post" style="display: inline;"><input type="hidden" name="inquiry_id"${add_attribute("value", inquiry.inquiry_id, 0)}> <button class="action-button s-qVrR-tmRBYCi" data-svelte-h="svelte-ky88x7">Mark Handled</button></form> <button class="action-button book-button s-qVrR-tmRBYCi" style="${"background-color: " + escape(inquiry.book_status ? "lightred" : "neongreen", true) + "; color: black;"}" ${inquiry.book_status || loadingButtonId === inquiry.inquiry_id ? "disabled" : ""}>${escape(loadingButtonId === inquiry.inquiry_id ? "Booking..." : inquiry.book_status ? "Booked!" : "Book")} </button>` : `<form action="?/undoHandled" method="post" style="display: inline;"><input type="hidden" name="inquiry_id"${add_attribute("value", inquiry.inquiry_id, 0)}> <button class="action-button s-qVrR-tmRBYCi" data-svelte-h="svelte-1m3teka">Undo</button></form> <form action="?/deleteInquiry" method="post" style="display: inline;"><input type="hidden" name="inquiry_id"${add_attribute("value", inquiry.inquiry_id, 0)}> <button class="action-button delete s-qVrR-tmRBYCi" data-svelte-h="svelte-18jktmc">Delete</button> </form>`}</td> </tr>`;
  })}</tbody></table>` : `<p class="centered-title s-qVrR-tmRBYCi" data-svelte-h="svelte-2hyah7">No inquiries found or data not loaded.</p>`}`;
});
export {
  Page as default
};
