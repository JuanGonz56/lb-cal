const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.esm.BoLtTinx.js","./index.esm2017.BCdX2qNA.js","./index.esm.qyjGjv3t.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./preload-helper.C1FmrZbK.js";import{i as u}from"./entry.D9zgFfnC.js";import{r as E}from"./index.DHrKRX9J.js";import{P as m,a as g,b as P,c as h,d as l,e as f}from"./public.Bl44MN_2.js";const S={apiKey:m,authDomain:g,projectId:P,storageBucket:h,messagingSenderId:l,appId:f};function T(){let t;const{subscribe:c}=E(void 0,n=>{let i=()=>{};async function a(){{const{initializeApp:o}=await e(async()=>{const{initializeApp:_}=await import("./index.esm.BoLtTinx.js");return{initializeApp:_}},__vite__mapDeps([0,1]),import.meta.url),r=o(S),{getAuth:s,onAuthStateChanged:d}=await e(async()=>{const{getAuth:_,onAuthStateChanged:A}=await import("./index.esm.qyjGjv3t.js");return{getAuth:_,onAuthStateChanged:A}},__vite__mapDeps([2,1]),import.meta.url);t=s(r),i=d(t,n)}}return a(),i});async function p(){const{signInWithPopup:n,GoogleAuthProvider:i}=await e(async()=>{const{signInWithPopup:r,GoogleAuthProvider:s}=await import("./index.esm.qyjGjv3t.js");return{signInWithPopup:r,GoogleAuthProvider:s}},__vite__mapDeps([2,1]),import.meta.url);await n(t,new i);const a="?",o=await t.currentUser.getIdToken();await fetch("/api/sessionLogin",{body:JSON.stringify({idToken:o,csrfToken:a}),method:"POST",headers:{"Content-Type":"application/json"}}),t.currentUser.getIdToken(!0),u()}async function I(){const n="?",{signOut:i}=await e(async()=>{const{signOut:a}=await import("./index.esm.qyjGjv3t.js");return{signOut:a}},__vite__mapDeps([2,1]),import.meta.url);await i(t),await fetch("/api/sessionLogout",{body:JSON.stringify({csrfToken:n}),method:"POST",headers:{"Content-Type":"application/json"}}),u(),window.location="/"}return{subscribe:c,sign_in:p,sign_out:I}}const O=T();export{O as a};
